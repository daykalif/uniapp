{"version":3,"names":["app","getApp","popup","common_vendor","ref","qrcodePopup","onLoad","options","main_load","service","hospitals","hospital_index","order","reactive","price","starttime","address","userName","cityName","countyName","detailInfo","receiveAddress","tel","demand","cfg","page_xy","page_fw","client","name","is_xieyi","validMobile","phone","validCode","countdown","validText","time","globalData","utils","request","url","data","svid","success","res2","value","hospitalsData","toRaw","index","__f__","hid","i","length","id","service_price","handleTap","onHospitalchange","e","parseInt","detail","onStartTimeChanged","onClientChange","navigateTo","$on","user_id","age","sex","mobile","onXieyiChange","onAddressChange","chooseAddress","fail","res","submitOrder","submit","showToast","title","icon","duration","orderData","serviceData","clientData","service_code","code","service_id","service_name","service_stype","stype","hospital_id","hospital_name","number","getStorageSync","open","createOrder","cancal","close","ok","method","setStorageSync","token","msg","flag","countdownChange","setInterval","clearInterval","concat","header","payment","switchTab","wx","createPage","_sfc_main"],"sources":["index.vue","index.vue?type=page"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<!-- 进度条 -->\r\n\t\t<view class=\"od-banner\">\r\n\t\t\t<!-- 背景图片 -->\r\n\t\t\t<image src=\"/static/resource/images//od_bg_icon.png\" mode=\"widthFix\" class=\"od-banner-icon\"></image>\r\n\t\t\t<view class=\"od-jd od-jd-0\">\r\n\t\t\t\t<!-- 进度条 -->\r\n\t\t\t\t<view class=\"od-jd-out\">\r\n\t\t\t\t\t<!-- 进度条里面的进度显示 -->\r\n\t\t\t\t\t<view class=\"od-jd-in\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 关于进度的文字 -->\r\n\t\t\t\t<view class=\"vp-flex od-jd-text\">\r\n\t\t\t\t\t<view class=\"vp-flex_1\">\r\n\t\t\t\t\t\t<text class=\"od-jd-st-0\">填写订单</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"vp-flex_1\">\r\n\t\t\t\t\t\t<text class=\"od-jd-st-10\">在线支付</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"vp-flex_1\">\r\n\t\t\t\t\t\t<text class=\"od-jd-st-20\">专人服务</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"vp-flex_1\">\r\n\t\t\t\t\t\t<text class=\"od-jd-st-30\">服务完成</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 快捷窗口名称和标题 -->\r\n\t\t<view class=\"pub-box\">\r\n\t\t\t<view class=\"pub-box-bd\">\r\n\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t<!-- 图标 -->\r\n\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t<image class=\"serv-icon\"\r\n\t\t\t\t\t\t\t:src=\"service.icon_image?service.icon_image_url:'../../static/resource/images/avatar.jpg'\">\r\n\t\t\t\t\t\t</image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 名称 -->\r\n\t\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t\t<text class=\"serv-name\">{{service.name}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 服务内容 -->\r\n\t\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t\t<view class=\"f5 ic_info\" @click=\"handleTap\">\r\n\t\t\t\t\t\t\t服务内容\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 表单 -->\r\n\t\t<block v-if=\"service.stype==10 || service.stype==15 || service.stype==20\">\r\n\t\t\t<view class=\"pub-box\">\r\n\t\t\t\t<view class=\"pub-box-bd\">\r\n\t\t\t\t\t<!-- 就诊医院 -->\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">\r\n\t\t\t\t\t\t\t\t就诊医院\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft weui-cell__ft_in-access\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<!-- picker从底部弹起的滚动选择器。 -->\r\n\t\t\t\t\t\t\t\t<picker @change=\"onHospitalchange\" :value=\"hopspital_index\" :range=\"hospitals\"\r\n\t\t\t\t\t\t\t\t\trange-key=\"name\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" :disabled=\"true\" placeholder=\"请选择就诊医院\"\r\n\t\t\t\t\t\t\t\t\t\t:value=\"hospitals[hospital_index].name\" placeholder-class=\"vp-placeholder\" />\r\n\t\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 就诊时间 -->\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">\r\n\t\t\t\t\t\t\t\t就诊时间\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft weui-cell__ft_in-access\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<dtPicker @dtPickerChanged=\"onStartTimeChanged\" :timestamp=\"order.starttime\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"请选择就诊时间\"></dtPicker>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 就诊人 -->\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\" @click=\"onClientChange\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">\r\n\t\t\t\t\t\t\t\t就诊人\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft weui-cell__ft_in-access\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"请选择就诊人\" style=\"text-align: right;\" class=\"weui-input\"\r\n\t\t\t\t\t\t\t\t\tplaceholder-class=\"vp-placeholder\" :disabled=\"true\" :value=\"client.name\">\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<block v-if=\"service.stype == 15\">\r\n\t\t\t\t\t\t<!-- 接送陪诊 -->\r\n\t\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t\t<view class=\"weui-cell__hd\">接送地址</view>\r\n\t\t\t\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t\t\t\t<input class=\"weui-input\" name=\"receiveAddress\" style=\"text-align: right\"\r\n\t\t\t\t\t\t\t\t\tplaceholder-class=\"vp-placeholder\" placeholder=\"请填写就诊人所在地址\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"order.receiveAddress\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<!-- 联系电话 -->\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">联系电话</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t\t\t<input class=\"weui-input\" type=\"number\" name=\"tel\" style=\"text-align: right\"\r\n\t\t\t\t\t\t\t\tplaceholder-class=\"vp-placeholder\" placeholder=\"请填写您的联系电话\" v-model=\"order.tel\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 服务需求 -->\r\n\t\t\t<view class=\"pub-box\">\r\n\t\t\t\t<view class=\"pub-box-tt\">服务需求</view>\r\n\t\t\t\t<view class=\"pub-box-bd\">\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t\t\t<textarea name=\"demand\" auto-height placeholder=\"请简单描述您要就诊的科室..\"\r\n\t\t\t\t\t\t\t\tplaceholder-class=\"vp-placeholder\" style=\"min-height: 150rpx\" v-model=\"order.demand\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t\t<!-- 代跑取药 -->\r\n\t\t<block v-if=\"service.stype == 30 || service.stype == 40\">\r\n\t\t\t<!-- 送取结果,代跑取药 -->\r\n\t\t\t<view class=\"pub-box\">\r\n\t\t\t\t<view class=\"pub-box-bd\">\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">所在医院</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft weui-cell__ft_in-access\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<picker @change=\"onHospitalchange\" :value=\"hospital_index\" :range=\"hospitals\"\r\n\t\t\t\t\t\t\t\t\trange-key=\"name\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" :disabled=\"true\" placeholder=\"请选择就诊所在医院\"\r\n\t\t\t\t\t\t\t\t\t\t:value=\"hospitals[hospital_index].name\" placeholder-class=\"vp-placeholder\" />\r\n\t\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">服务时间</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft weui-cell__ft_in-access\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<dtPicker @dtPickerChanged=\"onStartTimeChanged\" :timestamp=\"order.starttime\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"请选择期望服务时间\"></dtPicker>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\" @click=\"onAddressChange\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t\t\t<view class=\"weui-label\">收件信息</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\"></view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__ft weui-cell__ft_in-access\">\r\n\t\t\t\t\t\t\t<input class=\"weui-input\" :disabled=\"true\" style=\"text-align: right\"\r\n\t\t\t\t\t\t\t\tplaceholder-class=\"vp-placeholder\" placeholder=\"请选择收件信息\" :value=\"\r\n\t\t                                                        order.address.userName\r\n\t\t                                                            ? order.address.userName + '(' + order.address.cityName + order.address.countyName + order.address.detailInfo + ')'\r\n\t\t                                                            : ''\r\n\t\t                                                    \" />\r\n\t\t\t\t\t\t\t<!-- {{order.address?(order.address.userName+'('+order.address.telNumber+')'):''}} -->\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__hd\">联系电话</view>\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t\t\t<input class=\"weui-input\" type=\"number\" name=\"tel\" style=\"text-align: right\"\r\n\t\t\t\t\t\t\t\tplaceholder-class=\"vp-placeholder\" placeholder=\"请填写您的联系电话\" v-model=\"order.tel\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"pub-box\">\r\n\t\t\t\t<view class=\"pub-box-tt\">服务需求</view>\r\n\t\t\t\t<view class=\"pub-box-bd\">\r\n\t\t\t\t\t<view class=\"weui-cell weui-cell_input\">\r\n\t\t\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t\t\t<textarea name=\"demand\" auto-height placeholder=\"如有其他服务要求请在此填写..\"\r\n\t\t\t\t\t\t\t\tplaceholder-class=\"vp-placeholder\" style=\"min-height: 150rpx\" v-model=\"order.demand\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\r\n\r\n\r\n\t\t<!-- 下单 -->\r\n\t\t<view style=\"height: 300rpx\"></view>\r\n\t\t<!-- 悬浮提交按钮 -->\r\n\t\t<view class=\"vp-foot\">\r\n\t\t\t<view style=\"background: #ffffff; padding: 20rpx\">\r\n\t\t\t\t<view class=\"xieyi\" style=\"text-align: center\">\r\n\t\t\t\t\t<text :class=\"'is_xieyi ' + (is_xieyi ? 'is_xieyi_on' : '')\" @click=\"onXieyiChange\">我已阅读并同意</text>\r\n\t\t\t\t\t<navigator :url=\"cfg.page_xy\">《用户协议》</navigator>\r\n\t\t\t\t\t<text>和</text>\r\n\t\t\t\t\t<navigator :url=\"cfg.page_fw\">《服务协议》</navigator>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<button :class=\"'btnp ' + (is_xieyi ? '' : 'btnp-disabled')\" @click=\"submit\">\r\n\t\t\t\t\t\t确认下单\r\n\t\t\t\t\t\t<block v-if=\"order.price > 0\">（支付{{ order.price }}元）</block>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 点击确认下单之后的弹出框 -->\r\n\t\t<uni-popup ref=\"popup\" type=\"center\" :is-mask-click=\"false\" background-color=\"#fff\">\r\n\t\t\t<view class=\"popup-content\">\r\n\t\t\t\t<view class=\"group\">\r\n\t\t\t\t\t<input class=\"uni-input\" type=\"tel\" v-model=\"validMobile.phone\" placeholder=\"手机号\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"group\">\r\n\t\t\t\t\t<input class=\"uni-input\" v-model=\"validMobile.validCode\" placeholder=\"验证码\" />\r\n\t\t\t\t\t<text class=\"valid-text\" @click=\"countdownChange\">{{countdown.validText}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"btns\">\r\n\t\t\t\t<view class=\"cancal\" @click=\"cancal\">取消</view>\r\n\t\t\t\t<view class=\"ok\" @click=\"ok\">确定</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t\t<uni-popup ref=\"qrcodePopup\" type=\"center\" :is-mask-click=\"false\" background-color=\"#fff\">\r\n\t\t\t<view class=\"pay-box\">\r\n\t\t\t\t<!-- 关闭按钮 -->\r\n\t\t\t\t<image @click=\"payment\" src=\"/static/resource/images/modal_closer.png\"\r\n\t\t\t\t\tstyle=\"display: block;width: 15px;height: 15px;\"></image>\r\n\t\t\t\t<!-- 提示 -->\r\n\t\t\t\t<view class=\"text-center\">\r\n\t\t\t\t\t微信支付\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 二维码 -->\r\n\t\t\t\t<canvas id=\"qrcode\" canvas-id=\"qrcode\" style=\"width: 300rpx;height: 300rpx;\"></canvas>\r\n\t\t\t\t<view class=\"text-center\">\r\n\t\t\t\t\t请用本人微信扫描二维码\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\treactive,\r\n\t\tref,\r\n\t\ttoRaw\r\n\t} from 'vue'\r\n\timport {\r\n\t\tonLoad\r\n\t} from '@dcloudio/uni-app'\r\n\t// import UQRCode from 'uqrcodejs';\r\n\tconst app = getApp()\r\n\t// 弹出框\r\n\tconst popup = ref()\r\n\tconst qrcodePopup = ref()\r\n\r\n\tonLoad((options) => {\r\n\t\t// console.log(options);\r\n\t\tmain_load(options)\r\n\t})\r\n\t// 获取页面服务详情\r\n\tconst service = ref({})\r\n\t// 医院数据源\r\n\tconst hospitals = ref([])\r\n\t// 选中的医院索引\r\n\tconst hospital_index = ref(0)\r\n\t// 订单数据\r\n\tconst order = reactive({\r\n\t\t// 价格\r\n\t\tprice: '',\r\n\t\t// 就诊时间\r\n\t\tstarttime: '',\r\n\t\t// 地址\r\n\t\taddress: {\r\n\t\t\t// 姓名\r\n\t\t\tuserName: '',\r\n\t\t\t// 城市\r\n\t\t\tcityName: '',\r\n\t\t\t// 地区\r\n\t\t\tcountyName: '',\r\n\t\t\t// 地址详情\r\n\t\t\tdetailInfo: ''\r\n\t\t},\r\n\t\treceiveAddress: '',\r\n\t\ttel: '',\r\n\t\tdemand: ''\r\n\t})\r\n\tconst cfg = reactive({\r\n\t\tpage_xy: '',\r\n\t\tpage_fw: ''\r\n\t})\r\n\t// 就诊人\r\n\tconst client = reactive({\r\n\t\tname: ''\r\n\t})\r\n\t// 是否同意协议\r\n\tconst is_xieyi = ref(false)\r\n\t// 手机验证\r\n\tconst validMobile = reactive({\r\n\t\t// 手机号码\r\n\t\tphone: '',\r\n\t\t// 验证码\r\n\t\tvalidCode: ''\r\n\r\n\t})\r\n\t// 获取验证码按钮里面的信息\r\n\tconst countdown = reactive({\r\n\t\tvalidText: '获取验证码',\r\n\t\ttime: 60\r\n\t})\r\n\r\n\t// 获取快捷入口（多个的）数据\r\n\tconst main_load = (options) => {\r\n\t\tapp.globalData.utils.request({\r\n\t\t\turl: '/Service/order',\r\n\t\t\tdata: {\r\n\t\t\t\tsvid: options.svid\r\n\t\t\t},\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\t// console.log(res);\r\n\t\t\t\tservice.value = res.data.service\r\n\t\t\t\thospitals.value = res.data.hospitals\r\n\t\t\t\t// 默认选中医院\r\n\t\t\t\t// toRaw返回默认数据\r\n\t\t\t\tconst hospitalsData = toRaw(hospitals.value)\r\n\t\t\t\tconsole.log(hospitalsData);\r\n\t\t\t\tif (options.hid > 0) {\r\n\t\t\t\t\t// 自动选中对应的医院\r\n\t\t\t\t\tfor (let i = 0; i < hospitalsData.length; i++) {\r\n\t\t\t\t\t\tif (hospitalsData[i].id == options.hid) {\r\n\t\t\t\t\t\t\thospital_index.value == i\r\n\t\t\t\t\t\t\torder.price == hospitalsData[i].service_price\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t// 点击打开服务提醒弹窗\r\n\tconst handleTap = () => {\r\n\r\n\t}\r\n\t// 切换就诊医院\r\n\tconst onHospitalchange = (e) => {\r\n\t\tconst value = parseInt(e.detail.value)\r\n\t\thospital_index.value = value\r\n\t\torder.price = toRaw(hospitals.value)[value].service_price\r\n\t}\r\n\t// 修改日期后的回调函数\r\n\tconst onStartTimeChanged = (e) => {\r\n\t\torder.starttime = e.detail.value\r\n\t}\r\n\t// 点击选择就诊人\r\n\tconst onClientChange = () => {\r\n\t\t// 跳转到就诊人信息页面\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '../clients/index?act=select'\r\n\t\t})\r\n\t}\r\n\t// 接收全局自定义事件\r\n\tuni.$on('clientChange', (data) => {\r\n\t\tconsole.log(data);\r\n\t\tclient.name = data.name\r\n\t\tclient.id = data.user_id\r\n\t\tclient.age = data.age\r\n\t\tclient.sex = data.sex\r\n\t\tclient.mobile = data.mobile\r\n\t})\r\n\t// 点击用户协议同意按钮\r\n\tconst onXieyiChange = () => {\r\n\t\tis_xieyi.value = !is_xieyi.value\r\n\t}\r\n\t// 收件信息\r\n\tconst onAddressChange = () => {\r\n\t\tuni.chooseAddress({\r\n\t\t\tsuccess: res => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\torder.address.userName = res.userName\r\n\t\t\t\torder.address.cityName = res.cityName\r\n\t\t\t\torder.address.countyName = res.countyName\r\n\t\t\t\torder.address.detailInfo = res.detailInfo\r\n\t\t\t},\r\n\t\t\tfail: () => {\r\n\t\t\t\tconsole.log(res, 'err');\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tlet submitOrder\r\n\r\n\t// 下单\r\n\tconst submit = () => {\r\n\t\t// 如果没有勾选同意协议\r\n\t\tif (!is_xieyi.value) {\r\n\t\t\t// 给一个提示\r\n\t\t\treturn uni.showToast({\r\n\t\t\t\ttitle: '请先阅读并同意用户协议和服务协议',\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\tduration: 1000\r\n\t\t\t})\r\n\t\t}\r\n\t\t// 订单数据\r\n\t\tconst orderData = toRaw(order)\r\n\t\t// 服务数据\r\n\t\tconst serviceData = toRaw(service.value)\r\n\t\t// 医院数据\r\n\t\tconst hospitalsData = toRaw(hospitals.value)\r\n\t\t// 就诊人\r\n\t\tconst clientData = toRaw(client)\r\n\r\n\t\torderData.service_code = serviceData.code\r\n\t\torderData.service_id = serviceData.id\r\n\t\torderData.service_name = serviceData.name\r\n\t\torderData.service_stype = serviceData.stype\r\n\r\n\t\t// 医院的选择校验\r\n\t\tif (serviceData.stype < 100) {\r\n\t\t\tif (hospital_index == 0) {\r\n\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\ttitle: '请选择医院',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\torderData.hospital_id = hospitalsData[hospital_index.value].id\r\n\t\t\torderData.hospital_name = hospitalsData[hospital_index.value].name\r\n\t\t}\r\n\t\t// 就诊时间\r\n\t\tif (!order.starttime) {\r\n\t\t\treturn uni.showToast({\r\n\t\t\t\ttitle: '请选择时间',\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\tduration: 1000\r\n\t\t\t})\r\n\t\t}\r\n\t\t// 如果服务类型为陪诊\r\n\t\tif (serviceData.stype == 10 || serviceData.stype == 15 || serviceData.stype == 20) {\r\n\t\t\t// 就诊人验证\r\n\t\t\tif (!clientData.id) {\r\n\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\ttitle: '请选择就诊人',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\torderData.client = {}\r\n\t\t\t// 添加数据\r\n\t\t\torderData.client.age = clientData.age\r\n\t\t\torderData.client.number = clientData.number\r\n\t\t\torderData.client.mobile = clientData.mobile\r\n\t\t\torderData.client.name = clientData.name\r\n\t\t\torderData.client.sex = clientData.sex\r\n\r\n\t\t\t// 接送地址验证\r\n\t\t\tif (serviceData.stype == 15) {\r\n\t\t\t\tif (!order.receiveAddress) {\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: '请填写就诊人所在地址',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (serviceData.stype == 30 || serviceData.stype == 40) {\r\n\t\t\t// 判断收件地址\r\n\t\t\tif (!orderData.address.userName) {\r\n\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\ttitle: '请选择收件信息',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\t// 判断联系电话\r\n\t\tif (!orderData.tel) {\r\n\t\t\treturn uni.showToast({\r\n\t\t\t\ttitle: '请填写您的联系方式',\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\tduration: 1000\r\n\t\t\t})\r\n\t\t}\r\n\t\tconsole.log(orderData);\r\n\t\tsubmitOrder = orderData\r\n\t\t// 判断当前用户是否存在\r\n\t\tif (!uni.getStorageSync('token')) {\r\n\t\t\tpopup.value.open('center')\r\n\t\t} else {\r\n\t\t\t// 下单的逻辑\r\n\t\t\tcreateOrder(submitOrder)\r\n\t\t}\r\n\t}\r\n\t// 下单界面取消按钮\r\n\tconst cancal = () => {\r\n\t\t// 关闭弹窗\r\n\t\tpopup.value.close()\r\n\t}\r\n\t// 下单界面确定按钮\r\n\tconst ok = () => {\r\n\t\t// 先确定手机号码和验证码是否都填写完毕\r\n\t\tif (!validMobile.phone || !validMobile.validCode) {\r\n\t\t\t// 如果不存在，给一个提示\r\n\t\t\treturn uni.showToast({\r\n\t\t\t\ttitle: '请检查手机号码和验证码是否填写',\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\tduration: 1000\r\n\t\t\t})\r\n\t\t}\r\n\t\t// 验证短信\r\n\t\tapp.globalData.utils.request({\r\n\t\t\turl: '/user/authentication',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tdata: {\r\n\t\t\t\ttel: validMobile.phone,\r\n\t\t\t\tcode: validMobile.validCode\r\n\t\t\t},\r\n\t\t\tsuccess: res => {\r\n\t\t\t\t// 将token缓存\r\n\t\t\t\tuni.setStorageSync('token', res.data.token)\r\n\t\t\t\t// 下单的方法\r\n\t\t\t\tcreateOrder(submitOrder)\r\n\t\t\t\t// 关闭验证码弹出框\r\n\t\t\t\tpopup.value.close()\r\n\t\t\t},\r\n\t\t\tfail: res => {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n\r\n\t// 获取验证码按钮是否被点击\r\n\tlet flag = false\r\n\t// 点击获取验证码\r\n\tconst countdownChange = () => {\r\n\t\t// 判断手机号是否存在\r\n\t\tif (!validMobile.phone) {\r\n\t\t\t// 如果不存在，给一个提示\r\n\t\t\treturn uni.showToast({\r\n\t\t\t\ttitle: '请输入手机号码',\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\tduration: 1000\r\n\t\t\t})\r\n\t\t}\r\n\t\tif (flag) return\r\n\t\t// 添加验证码倒计时\r\n\t\tconst time = setInterval(() => {\r\n\t\t\tif (countdown.time <= 0) {\r\n\t\t\t\tcountdown.validText = '获取验证码'\r\n\t\t\t\tcountdown.time = 60\r\n\t\t\t\tflag = false\r\n\t\t\t\t// 清除定时器\r\n\t\t\t\tclearInterval(time)\r\n\t\t\t} else {\r\n\t\t\t\tcountdown.time -= 1\r\n\t\t\t\tcountdown.validText = `剩余${countdown.time}s`\r\n\t\t\t}\r\n\t\t}, 1000)\r\n\t\t// 被点击，变为true\r\n\t\tflag = true\r\n\t\t// 调用接口，发送验证码\r\n\t\tapp.globalData.utils.request({\r\n\t\t\turl: '/get/code',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tdata: {\r\n\t\t\t\ttel: validMobile.phone\r\n\t\t\t},\r\n\t\t\t// 发送成功的回调\r\n\t\t\tsuccess: res => {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '验证码发送成功，请注意查收',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 发送失败的回调\r\n\t\t\tfail: res => {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t// 创建订单\r\n\tconst createOrder = (orderData) => {\r\n\t\t// 调用创建订单接口\r\n\t\tapp.globalData.utils.request({\r\n\t\t\turl: '/pay/createOrder',\r\n\t\t\tmethod: 'POST',\r\n\t\t\theader: {\r\n\t\t\t\ttoken: uni.getStorageSync('token')\r\n\t\t\t},\r\n\t\t\tdata: orderData,\r\n\t\t\tsuccess: res => {\r\n\t\t\t\t// // 打开弹出层\r\n\t\t\t\t// qrcodePopup.value.open('center')\r\n\t\t\t\t// // 获取uQRCode实例\r\n\t\t\t\t// const qr = new UQRCode();\r\n\t\t\t\t// // 设置二维码内容\r\n\t\t\t\t// qr.data = res.wx_code\r\n\t\t\t\t// // 设置二维码大小，必须与canvas设置的宽高一致\r\n\t\t\t\t// qr.size = 150;\r\n\t\t\t\t// // 调用制作二维码方法\r\n\t\t\t\t// qr.make();\r\n\t\t\t\t// // 获取canvas上下文\r\n\t\t\t\t// var canvasContext = uni.createCanvasContext('qrcode'); // 如果是组件，this必须传入\r\n\t\t\t\t// // 设置uQRCode实例的canvas上下文\r\n\t\t\t\t// qr.canvasContext = canvasContext;\r\n\t\t\t\t// // 调用绘制方法将二维码图案绘制到canvas上\r\n\t\t\t\t// qr.drawCanvas();\r\n\t\t\t},\r\n\t\t\tfail: res => {\r\n\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t// 点击二维码关闭按钮，跳转到订单列表\r\n\tconst payment = () => {\r\n\t\tuni.switchTab({\r\n\t\t\turl: '/pages/order/index'\r\n\t\t})\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import './index.css';\r\n</style>","import MiniProgramPage from '/Users/daykalif/Desktop/project/pages/service/index.vue'\nwx.createPage(MiniProgramPage)"],"mappings":"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","ignoreList":[]}
{"version":3,"file":"index.js","sources":["pages/index/index.vue","pages/index/index.vue?type=page"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<!-- 顶部导航栏 -->\r\n\t\t<navbar :isHome='true' />\r\n\r\n\t\t<!-- 头部公告栏 -->\r\n\t\t<view style=\"margin-top: 130rpx;\">\r\n\t\t\t<view class=\"weui-cell\" style=\"background: #fff9eb;\">\r\n\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t<image src=\"/static/resource/images/ic_myapp.png\"\r\n\t\t\t\t\t\tstyle=\"display: block;width:40rpx;height: 40rpx;margin-right: 14rpx;\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t<text style=\"color:#be9719;font-size: 13px;\">点击右上角“添加到我的小程序”，方便下次找到！</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t<image src=\"/static/resource/images/modal_closer.png\"\r\n\t\t\t\t\t\tstyle=\"display: block;width:30rpx;height: 30rpx;\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 轮播图 -->\r\n\t\t<view class=\"index-swiper\" v-if=\"bannerList && bannerList.length > 0\">\r\n\t\t\t<!-- 自动播放  衔接播放 播放时长 滑动时长 -->\r\n\t\t\t<swiper :indicator-dots=\"true\" circular autoplay :interval=\"4000\" :duration=\"1000\">\r\n\t\t\t\t<swiper-item v-for=\"(item,index) in bannerList\" :key=\"item.id\">\r\n\t\t\t\t\t<image :src=\"item.pic_image_url\" mode=\"widthFix\"></image>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t</view>\r\n\r\n\t\t<!-- 快捷入口（两个图片的） -->\r\n\t\t<view v-if=\"nav2s && nav2s.length>0\" class=\"nav2-list\">\r\n\t\t\t<block v-for=\"(item,index) in nav2s\" :key=\"idnex\">\r\n\t\t\t\t<view class=\"nav2-item\" @click=\"onNav2sTap\" :data-index=\"index\">\r\n\t\t\t\t\t<view class=\"nav2-pic\">\r\n\t\t\t\t\t\t<image :src=\"item.pic_image_url\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t</view>\r\n\r\n\t\t<!-- 快捷入口（多个的） -->\r\n\t\t<view v-if=\"navs && navs.length>0\" class=\"nav-list\">\r\n\t\t\t<block v-for=\"(item,index) in navs\" :key=\"index\">\r\n\t\t\t\t<view class=\"nav-item\" @click=\"onNavsTap\" :data-index=\"index\">\r\n\t\t\t\t\t<view class=\"nav-pic\">\r\n\t\t\t\t\t\t<image :src=\"item.pic_image_url\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"nav-text\" :style=\"'color' + (item.tcolor ? item.tcolor : '')\">{{item.title}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t</view>\r\n\r\n\t\t<!-- 医院列表 -->\r\n\t\t<view class=\"weui-cells hosp-list\">\r\n\t\t\t<view class=\"weui-cell hosp-item weui-cell-access\" v-for=\"(item,index) in hospitals\" :key=\"item.id\"\r\n\t\t\t\t:data-hid=\"item.id\" @click=\"toHospitals\">\r\n\t\t\t\t<!-- 图片 -->\r\n\t\t\t\t<view class=\"weui-cell__hd\">\r\n\t\t\t\t\t<image :src=\"item.avatar?item.avatar_url:'../../static/resource/images/avatar.jpg'\"\r\n\t\t\t\t\t\tmode=\"aspectFill\" class=\"hosp-avatar\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 医院信息 -->\r\n\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t<!-- 医院名称 -->\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<text class=\"hosp-name\">{{item.name}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 医院类型 -->\r\n\t\t\t\t\t<view class=\"hosp-line\">\r\n\t\t\t\t\t\t<!-- 医院地位 -->\r\n\t\t\t\t\t\t<text class=\"hosp-rank\">{{item.rank}}</text>\r\n\t\t\t\t\t\t<!-- 医院标签 -->\r\n\t\t\t\t\t\t<text class=\"hosp-label\">{{item.label}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 医院介绍 -->\r\n\t\t\t\t\t<view class=\"hosp-line\">\r\n\t\t\t\t\t\t<text class=\"hosp-intro\">{{item.intro}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tonLoad,\r\n\t} from '@dcloudio/uni-app';\r\n\r\n\timport {\r\n\t\tref,\r\n\t\ttoRaw\r\n\t} from \"vue\";\r\n\r\n\r\n\tconst navigatorTo = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/search/index',\r\n\t\t});\r\n\t}\r\n\r\n\tconst app = getApp() // 获取uniapp实例\r\n\tconst bannerList = ref([]) // 轮播图\r\n\tconst nav2s = ref([]) // 2个导航\r\n\tconst navs = ref([]) // 多个导航\r\n\t// 医院列表\r\n\tconst hospitals = ref([])\r\n\r\n\tonLoad(() => {\r\n\t\t// 调用用户信息\r\n\t\tapp.globalData.utils.getUserInfo();\r\n\r\n\t\t// 先获取地区码\r\n\t\tapp.globalData.utils.request({\r\n\t\t\turl: '/app/init',\r\n\t\t\tsuccess: ({\r\n\t\t\t\tdata\r\n\t\t\t}) => {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tid\r\n\t\t\t\t} = data.data.area;\r\n\r\n\t\t\t\t// 根据地区码获取该地区的医院信息（轮播图）\r\n\t\t\t\tapp.globalData.utils.request({\r\n\t\t\t\t\turl: '/Index/index',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taid: id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (ress) => {\r\n\t\t\t\t\t\tbannerList.value = ress.data.data.slides // 轮播图\r\n\t\t\t\t\t\tnav2s.value = ress.data.data.nav2s // 两个导航\r\n\t\t\t\t\t\tnavs.value = ress.data.data.navs // 多个导航\r\n\t\t\t\t\t\thospitals.value = ress.data.data.hospitals // 医院列表\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t})\r\n\t});\r\n\r\n\t// 公共部分\r\n\tconst jump = (nav, type) => {\r\n\t\t// 判断是否为内部链接\r\n\t\tif (nav.stype == 1) {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: nav.stype_link\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// 点击快捷入口（两个图片的）\r\n\tconst onNav2sTap = (e) => {\r\n\t\t// 获取当前点击的图片的数据\r\n\t\tconst nav = toRaw(nav2s.value)[e.currentTarget.dataset.index]\r\n\t\tjump(nav, 'nav2')\r\n\t}\r\n\r\n\t// 点击快捷入口（多个的）\r\n\tconst onNavsTap = (e) => {\r\n\t\t// 获取当前点击的图片的数据\r\n\t\tconst nav = toRaw(navs.value)[e.currentTarget.dataset.index]\r\n\t\tjump(nav, 'nav')\r\n\t}\r\n\r\n\t// 跳转到医院详情\r\n\tconst toHospitals = (e) => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/hospital/index?hid=' + e.currentTarget.dataset.hid\r\n\t\t})\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t/* banner */\r\n\t.index-swiper {\r\n\t\toverflow: hidden;\r\n\t\tmargin: 20rpx 20rpx 0;\r\n\t}\r\n\r\n\t.index-swiper swiper {\r\n\t\toverflow: hidden;\r\n\t\theight: 320rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t}\r\n\r\n\t.index-swiper swiper-item image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t/* 快捷入口 */\r\n\t.nav2-list {\r\n\t\tmargin: 10rpx 20rpx 0 20rpx;\r\n\t}\r\n\r\n\t.nav2-list::after {\r\n\t\tcontent: '';\r\n\t\tdisplay: block;\r\n\t\theight: 0;\r\n\t\tline-height: 0;\r\n\t\tclear: both;\r\n\t\tvisibility: hidden;\r\n\t}\r\n\r\n\t.nav2-item {\r\n\t\tfloat: left;\r\n\t\tmargin-top: 20rpx;\r\n\t\twidth: 50%;\r\n\t\ttext-align: center;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 0 5rpx;\r\n\t}\r\n\r\n\t.nav2-pic {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.nav2-pic image {\r\n\t\tdisplay: block;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.nav-list::after {\r\n\t\tcontent: '';\r\n\t\tdisplay: block;\r\n\t\theight: 0;\r\n\t\tline-height: 0;\r\n\t\tclear: both;\r\n\t\tvisibility: hidden;\r\n\t}\r\n\r\n\t.nav-item {\r\n\t\tfloat: left;\r\n\t\tmargin-top: 20rpx;\r\n\t\twidth: 20%;\r\n\t\ttext-align: center;\r\n\t\tpadding: 10rpx 0;\r\n\t}\r\n\r\n\t.nav-pic image {\r\n\t\tdisplay: block;\r\n\t\tmargin: 0 auto;\r\n\t\twidth: 110rpx;\r\n\t\theight: 110rpx;\r\n\t}\r\n\r\n\t.nav-text {\r\n\t\tfont-size: 24rpx;\r\n\t\tfont-weight: bold;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t/* 医院列表 */\r\n\t.hosp-list {\r\n\t\tmargin: 10rpx 0 0 0;\r\n\t\tbackground: none;\r\n\t}\r\n\r\n\t.hosp-list::before {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.hosp-list::after {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.hosp-item {\r\n\t\t-webkit-box-align: stretch;\r\n\t\t-webkit-align-items: stretch;\r\n\t\talign-items: stretch;\r\n\t\tpadding: 20rpx;\r\n\t\tmargin: 20rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.04), 0 1px 6px 0 rgba(0, 0, 0, 0.04);\r\n\t}\r\n\r\n\t.hosp-item::before {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.hosp-item::after {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.hosp-name {\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 34rpx;\r\n\t}\r\n\r\n\t.hosp-avatar {\r\n\t\tdisplay: block;\r\n\t\twidth: 200rpx;\r\n\t\theight: 180rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\toverflow: hidden;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\r\n\t.hosp-line {\r\n\t\tmargin-top: 5rpx;\r\n\t}\r\n\r\n\t.hosp-line text {\r\n\t\tfont-size: 26rpx;\r\n\t}\r\n\r\n\t.hosp-rank {\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #0bb585;\r\n\t\tmargin-right: 15rpx;\r\n\t}\r\n\r\n\t.hosp-label {\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #0ca7ae;\r\n\t\tmargin-right: 15rpx;\r\n\t}\r\n\r\n\t.hosp-intro {\r\n\t\tcolor: #999999;\r\n\t}\r\n</style>","import MiniProgramPage from '/Users/daykalif/Desktop/project/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","uni","toRaw","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;AAwGC,UAAM,MAAM,OAAQ;AACpB,UAAM,aAAaA,cAAG,IAAC,EAAE;AACzB,UAAM,QAAQA,cAAG,IAAC,EAAE;AACpB,UAAM,OAAOA,cAAG,IAAC,EAAE;AAEnB,UAAM,YAAYA,cAAG,IAAC,EAAE;AAExBC,kBAAAA,OAAO,MAAM;AAEZ,UAAI,WAAW,MAAM;AAGrB,UAAI,WAAW,MAAM,QAAQ;AAAA,QAC5B,KAAK;AAAA,QACL,SAAS,CAAC;AAAA,UACT;AAAA,QACJ,MAAS;AACL,gBAAM;AAAA,YACL;AAAA,UACL,IAAQ,KAAK,KAAK;AAGd,cAAI,WAAW,MAAM,QAAQ;AAAA,YAC5B,KAAK;AAAA,YACL,MAAM;AAAA,cACL,KAAK;AAAA,YACL;AAAA,YACD,SAAS,CAAC,SAAS;AAClB,yBAAW,QAAQ,KAAK,KAAK,KAAK;AAClC,oBAAM,QAAQ,KAAK,KAAK,KAAK;AAC7B,mBAAK,QAAQ,KAAK,KAAK,KAAK;AAC5B,wBAAU,QAAQ,KAAK,KAAK,KAAK;AAAA,YACjC;AAAA,UACN,CAAK;AAAA,QACD;AAAA,MAEJ,CAAG;AAAA,IACH,CAAE;AAGD,UAAM,OAAO,CAAC,KAAK,SAAS;AAE3B,UAAI,IAAI,SAAS,GAAG;AACnBC,sBAAAA,MAAI,WAAW;AAAA,UACd,KAAK,IAAI;AAAA,QACb,CAAI;AAAA,MACD;AAAA,IACD;AAGD,UAAM,aAAa,CAAC,MAAM;AAEzB,YAAM,MAAMC,cAAK,MAAC,MAAM,KAAK,EAAE,EAAE,cAAc,QAAQ,KAAK;AAC5D,WAAK,GAAW;AAAA,IAChB;AAGD,UAAM,YAAY,CAAC,MAAM;AAExB,YAAM,MAAMA,cAAK,MAAC,KAAK,KAAK,EAAE,EAAE,cAAc,QAAQ,KAAK;AAC3D,WAAK,GAAU;AAAA,IACf;AAGD,UAAM,cAAc,CAAC,MAAM;AAC1BD,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,+BAA+B,EAAE,cAAc,QAAQ;AAAA,MAC/D,CAAG;AAAA,IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3KF,GAAG,WAAWE,SAAe;"}
{"version":3,"file":"index.js","sources":["pages/clients/index.vue","pages/clients/index.vue?type=page"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<view class=\"cell-box\" v-for=\"(item, index) in clients\" :key=\"index\">\r\n\t\t\t<view class=\"weui-cell\" @click=\"onClientSelected\" :data-index=\"index\">\r\n\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<text style=\"font-weight: bold\">{{ item.name }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<text :class=\"'sext' + item.sex\">{{ item.sex == 1 ? '男' : '女' }}</text>\r\n\t\t\t\t\t\t<text style=\"margin-left: 10rpx\">{{ item.age }}周岁</text>\r\n\t\t\t\t\t\t<text style=\"margin-left: 10rpx\">{{ item.mobile }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"weui-cell__ft\">\r\n\t\t\t\t\t<text v-if=\"act == 'select'\" style=\"\r\n\t\t                display: inline-block;\r\n\t\t                padding: 15rpx 30rpx;\r\n\t\t                border: 1rpx solid #0bb584;\r\n\t\t                color: #0bb584;\r\n\t\t                font-weight: bold;\r\n\t\t                border-radius: 10rpx;\r\n\t\t                font-size: 28rpx;\r\n\t\t                overflow: hidden;\r\n\t\t            \">\r\n\t\t\t\t\t\t选择\r\n\t\t\t\t\t</text>\r\n\t\t\t\t\t<text v-else @click=\"removeClient\" :data-id=\"item.id\" style=\"\r\n\t\t                display: inline-block;\r\n\t\t                padding: 15rpx 30rpx;\r\n\t\t                border: 1rpx solid #eeeeee;\r\n\t\t                color: #f13e6d;\r\n\t\t                border-radius: 10rpx;\r\n\t\t                font-size: 28rpx;\r\n\t\t                overflow: hidden;\r\n\t\t            \">\r\n\t\t\t\t\t\t移除\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\treactive,\r\n\t\tref,\r\n\t\ttoRaw\r\n\t} from 'vue'\r\n\timport {\r\n\t\tonLoad\r\n\t} from '@dcloudio/uni-app'\r\n\tconst app = getApp()\r\n\r\n\t// 获取传过来的页面参数\r\n\tconst act = ref('')\r\n\t// 就诊人信息\r\n\tconst clients = ref([])\r\n\r\n\tonLoad((options) => {\r\n\t\tact.value = options.act\r\n\t\t// 判断传过来的参数是什么，若是select就修改标题为请选择服务对象，否则标题就是服务对象管理\r\n\t\tif (options.act == 'select') {\r\n\t\t\t// 修改页面标题\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle: '请选择服务对象'\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle: '服务对象管理'\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// 获取服务对象信息（请求接口）\r\n\t\tapp.globalData.utils.request({\r\n\t\t\turl: '/User/clients',\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tclients.value = res.data.clients\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t})\r\n\r\n\t// 点击选择就诊人\r\n\tconst onClientSelected = (e) => {\r\n\t\t// 先判断act是否携带参数，如果不携带，就不用显示就诊人信息\r\n\t\tif (act == '') return\r\n\t\t// 获取选中就诊人的索引\r\n\t\tconst index = e.currentTarget.dataset.index\r\n\t\t// 获取当前就诊人的信息\r\n\t\tconst clientData = clients.value[index]\r\n\t\t// 触发全局自定义事件\r\n\t\tuni.$emit('clientChange', toRaw(clientData))\r\n\t\t// 返回上一个页面\r\n\t\tuni.navigateBack()\r\n\t}\r\n\r\n\t// 点击移除就诊人\r\n\tconst removeClient = () => {\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tpage {\r\n\t\tbackground: #f4f4f4;\r\n\t}\r\n\r\n\t.weui-cells {\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\t.weui-cell {\r\n\t\tpadding: 20rpx 30rpx;\r\n\t}\r\n\r\n\t.weui-cell view {\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\t.weui-cell text {\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\t.cell-box {\r\n\t\tmargin: 20rpx;\r\n\t\tposition: relative;\r\n\t\tborder-radius: 10rpx;\r\n\t\tbackground: #ffffff;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.sext1 {\r\n\t\tcolor: #4881df;\r\n\t}\r\n\r\n\t.sext2 {\r\n\t\tcolor: #df4872;\r\n\t}\r\n\r\n\t.sex {\r\n\t\tpadding: 15rpx 30rpx;\r\n\t\tdisplay: inline-block;\r\n\t\tborder: 1rpx solid #eeeeee;\r\n\t}\r\n\r\n\t.sex1 {\r\n\t\tborder-right: 0 none;\r\n\t\tborder-radius: 8rpx 0 0 8rpx;\r\n\t}\r\n\r\n\t.sex2 {\r\n\t\tborder-radius: 0 8rpx 8rpx 0;\r\n\t}\r\n\r\n\t.sex1on {\r\n\t\tbackground: #4881df;\r\n\t\tborder-color: #3b77dc;\r\n\t\tcolor: #ffffff;\r\n\t}\r\n\r\n\t.sex2on {\r\n\t\tbackground: #df4872;\r\n\t\tborder-color: #df4872;\r\n\t\tcolor: #ffffff;\r\n\t}\r\n</style>","import MiniProgramPage from '/Users/daykalif/Desktop/project/pages/clients/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","uni","toRaw","MiniProgramPage"],"mappings":";;;;;AAqDC,UAAM,MAAM,OAAQ;AAGpB,UAAM,MAAMA,cAAG,IAAC,EAAE;AAElB,UAAM,UAAUA,cAAG,IAAC,EAAE;AAEtBC,kBAAM,OAAC,CAAC,YAAY;AACnB,UAAI,QAAQ,QAAQ;AAEpB,UAAI,QAAQ,OAAO,UAAU;AAE5BC,sBAAAA,MAAI,sBAAsB;AAAA,UACzB,OAAO;AAAA,QACX,CAAI;AAAA,MACJ,OAAS;AACNA,sBAAAA,MAAI,sBAAsB;AAAA,UACzB,OAAO;AAAA,QACX,CAAI;AAAA,MACD;AAGD,UAAI,WAAW,MAAM,QAAQ;AAAA,QAC5B,KAAK;AAAA,QACL,SAAS,CAAC,QAAQ;AACjBA,wBAAAA,MAAA,MAAA,OAAA,iCAAY,GAAG;AACf,kBAAQ,QAAQ,IAAI,KAAK;AAAA,QACzB;AAAA,MACJ,CAAG;AAAA,IAEH,CAAE;AAGD,UAAM,mBAAmB,CAAC,MAAM;AAE/B,UAAI,OAAO;AAAI;AAEf,YAAM,QAAQ,EAAE,cAAc,QAAQ;AAEtC,YAAM,aAAa,QAAQ,MAAM,KAAK;AAEtCA,oBAAAA,MAAI,MAAM,gBAAgBC,cAAK,MAAC,UAAU,CAAC;AAE3CD,oBAAAA,MAAI,aAAc;AAAA,IAClB;AAGD,UAAM,eAAe,MAAM;AAAA,IAE1B;;;;;;;;;;;;;;;;;;;;;;;;ACrGF,GAAG,WAAWE,SAAe;"}
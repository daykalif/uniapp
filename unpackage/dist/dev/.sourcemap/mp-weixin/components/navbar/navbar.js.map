{"version":3,"file":"navbar.js","sources":["components/navbar/navbar.vue","/Users/daykalif/Desktop/project/components/navbar/navbar.vue?type=component"],"sourcesContent":["<template>\r\n\t<view class=\"nav\">\r\n\t\t<!-- 状态栏 -->\r\n\t\t<view :style=\"'height:' + status + 'rpx;' + containerStyle\"></view>\r\n\r\n\t\t<!-- 内容 -->\r\n\t\t<view class=\"navbar\" :style=\"'height:' + navHeight + 'rpx;' + containerStyle\">\r\n\t\t\t<view class=\"back-icon\" @click=\"backHome\">\r\n\t\t\t\t<image v-if=\"pages > 1\" src=\"../../static/resource/navbar/ic_back.png\"></image>\r\n\t\t\t\t<image v-else src=\"../../static/resource/navbar/ic_home.png\"></image>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"nav-title\" v-if=\"titleText\">\r\n\t\t\t\t<view :style=\"'height:' + navHeight + 'rpx;line-height:' + navHeight + 'rpx;' + textStyle\">\r\n\t\t\t\t\t{{titleText}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tonBeforeMount,\r\n\t\tdefineProps\r\n\t} from 'vue';\r\n\r\n\tconst props = defineProps({\r\n\t\tbackground: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'rgba(255,255,255,1)'\r\n\t\t},\r\n\t\tcolor: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'rgba(0,0,0,1)'\r\n\t\t},\r\n\t\tfontSize: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 32\r\n\t\t},\r\n\t\ticonWidth: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 116\r\n\t\t},\r\n\t\ticonHeight: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 38\r\n\t\t},\r\n\t\ttitleText: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t}\r\n\t});\r\n\r\n\t// 响应式变量\r\n\tconst status = ref(0);\r\n\r\n\t// 内容高度\r\n\tconst navHeight = ref(0);\r\n\r\n\t// 背景颜色\r\n\tconst containerStyle = ref('');\r\n\r\n\t// 字体样式\r\n\tconst textStyle = ref('');\r\n\r\n\t// 图标样式\r\n\tconst iconStyle = ref('');\r\n\r\n\t// 页面栈数量\r\n\tconst pages = ref(getCurrentPages().length);\r\n\r\n\t// 计算状态栏高度\r\n\tconst setNavSize = () => {\r\n\t\tconst {\r\n\t\t\tsystem,\r\n\t\t\tstatusBarHeight\r\n\t\t} = uni.getSystemInfoSync();\r\n\r\n\t\tstatus.value = statusBarHeight * 2;\r\n\r\n\t\tconst isIos = system.indexOf('ios') > -1;\r\n\t\tif (!isIos) {\r\n\t\t\tnavHeight.value = 96;\r\n\t\t} else {\r\n\t\t\tnavHeight.value = 88;\r\n\t\t}\r\n\t}\r\n\r\n\t// 样式设置\r\n\tconst setStyle = () => {\r\n\t\tcontainerStyle.value = ['background:' + props.background].join(';')\r\n\t\ttextStyle.value = ['color:' + props.color, 'font-size:' + props.fontSize + 'rpx'].join(';')\r\n\t\ticonStyle.value = ['width:' + props.iconWidth + 'rpx', 'height:' + props.iconHeight + 'rpx'].join(';')\r\n\t}\r\n\r\n\t// 页面渲染前执行\r\n\tonBeforeMount(() => {\r\n\t\tsetNavSize();\r\n\t\tsetStyle();\r\n\t});\r\n\r\n\t// 返回按钮\r\n\tconst backHome = () => {\r\n\t\tif (pages.value > 1) {\r\n\t\t\t// 保留当前页面，跳转到应用内的某个页面，使用uni.navigateBack可以返回到原页面。\r\n\t\t\tuni.navigateBack();\r\n\t\t} else {\r\n\t\t\t// 跳转到 tabBar 页面，并关闭其他所有非 tabBar 页面，要用switchTab；\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl: '/pages/index/index'\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.nav {\r\n\t\twidth: 100%;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 2;\r\n\t}\r\n\r\n\t.back-icon {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\twidth: 64rpx;\r\n\t\theight: 100%;\r\n\t\tmargin-left: 10rpx;\r\n\t}\r\n\r\n\t.back-icon image {\r\n\t\twidth: 64rpx;\r\n\t\theight: 64rpx;\r\n\t}\r\n\r\n\t.navbar {\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.nav-title {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%);\r\n\t}\r\n</style>","import Component from '/Users/daykalif/Desktop/project/components/navbar/navbar.vue'\nwx.createComponent(Component)"],"names":["ref","uni","onBeforeMount","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BC,UAAM,QAAQ;AA4Bd,UAAM,SAASA,kBAAI,CAAC;AAGpB,UAAM,YAAYA,kBAAI,CAAC;AAGvB,UAAM,iBAAiBA,kBAAI,EAAE;AAG7B,UAAM,YAAYA,kBAAI,EAAE;AAGxB,UAAM,YAAYA,kBAAI,EAAE;AAGxB,UAAM,QAAQA,cAAG,IAAC,gBAAiB,EAAC,MAAM;AAG1C,UAAM,aAAa,MAAM;AACxB,YAAM;AAAA,QACL;AAAA,QACA;AAAA,MACH,IAAMC,cAAAA,MAAI;AAER,aAAO,QAAQ,kBAAkB;AAEjC,YAAM,QAAQ,OAAO,QAAQ,KAAK,IAAI;AACtC,UAAI,CAAC,OAAO;AACX,kBAAU,QAAQ;AAAA,MACrB,OAAS;AACN,kBAAU,QAAQ;AAAA,MAClB;AAAA,IACD;AAGD,UAAM,WAAW,MAAM;AACtB,qBAAe,QAAQ,CAAC,gBAAgB,MAAM,UAAU,EAAE,KAAK,GAAG;AAClE,gBAAU,QAAQ,CAAC,WAAW,MAAM,OAAO,eAAe,MAAM,WAAW,KAAK,EAAE,KAAK,GAAG;AAC1F,gBAAU,QAAQ,CAAC,WAAW,MAAM,YAAY,OAAO,YAAY,MAAM,aAAa,KAAK,EAAE,KAAK,GAAG;AAAA,IACrG;AAGDC,kBAAAA,cAAc,MAAM;AACnB;AACA;IACF,CAAE;AAGD,UAAM,WAAW,MAAM;AACtB,UAAI,MAAM,QAAQ,GAAG;AAEpBD,sBAAG,MAAC,aAAY;AAAA,MACnB,OAAS;AAENA,sBAAAA,MAAI,UAAU;AAAA,UACb,KAAK;AAAA,QACT,CAAI;AAAA,MACD;AAAA,IACD;;;;;;;;;;;;;;;;;;;;;ACjHF,GAAG,gBAAgBE,SAAS;"}